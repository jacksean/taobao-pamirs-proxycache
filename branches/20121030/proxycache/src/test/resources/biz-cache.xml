<?xml version="1.0" encoding="GBK"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" "http://www.springframework.org/dtd/spring-beans.dtd">
<beans default-autowire="byName">
	<bean id="applicationContextUtil" class="com.taobao.pamirs.cache.ApplicationContextUtil"/> 
	<!-- ===================================================================== -->
	<!-- 商品中心缓存管理配置						   				   		   	   -->
	<!-- ===================================================================== -->
 	<bean id="goodsCenterCacheManager" class="com.taobao.pamirs.cache.manager.CacheManager" depends-on="tairManager,applicationContextUtil"> 
 		<property name="defaultCacheConfig">
             <value>
                     storeTairRegion=${store.tair.region},
                     storeTairNameSpace=318,
                     cleanTime=0,10,20,30,40,50 * * * * ? *
             </value>
        </property>
 		<property name="cacheConfig">
			<list>
				<!-- ===================================================================== -->
				<!-- 商品加载缓存管理配置						   				   		   	   -->
				<!-- ===================================================================== -->
            	<value>
            		   beanName=articleReadService,
            	       methodName=getArticleById,
            	       parameterTypes={Long},
            	       returnType=serializable,
            	       cacheName=articleReadService.getArticleById,
            	       storeType=tair,
            	       expireTimes=0,        	       
            	       groupName=商品数据
            	 </value>
            	 <value>
            		   beanName=articleReadService,
            	       methodName=getArticleByCode,
            	       parameterTypes={String},
            	       returnType=serializable,
            	       cacheName=articleReadService.getArticleByCode,
            	       storeType=tair,
            	       expireTimes=0,         	       
            	       groupName=商品数据
            	 </value>
            	 <value>
            		   beanName=articleReadService,
            	       methodName=getArticleByAppkey,
            	       parameterTypes={String},
            	       returnType=serializable,
            	       cacheName=articleReadService.getArticleByAppkey,
            	       storeType=tair,
            	       expireTimes=0,         	       
            	       groupName=商品数据
            	 </value>
            	 <value>
            		   beanName=articleReadService,
            	       methodName=getSaleConditions,
            	       parameterTypes={Long},
            	       returnType=serializable,
            	       cacheName=articleReadService.getSaleConditions,
            	       storeType=tair,
            	       expireTimes=0,         	       
            	       groupName=商品数据
            	 </value>
            	  <value>
            		   beanName=articleReadService,
            	       methodName=getMarketSaleConditions,
            	       parameterTypes={Long},
            	       returnType=serializable,
            	       cacheName=articleReadService.getMarketSaleConditions,
            	       storeType=tair,
            	       expireTimes=0,         	       
            	       groupName=商品数据
            	 </value>
            	 <value>
            		   beanName=articleReadService,
            	       methodName=getPromotions,
            	       parameterTypes={Long},
            	       returnType=serializable,
            	       cacheName=articleReadService.getPromotions,
            	       storeType=tair,
            	       expireTimes=0,         	       
            	       groupName=商品数据
            	 </value>
            	 <value>
            		   beanName=articleReadService,
            	       methodName=getDependArticles,
            	       parameterTypes={Long},
            	       returnType=serializable,
            	       cacheName=articleReadService.getDependArticles,
            	       storeType=tair,
            	       expireTimes=0,         	       
            	       groupName=商品数据
            	 </value>
            	 <value>
            		   beanName=articleReadService,
            	       methodName=getMutexArticles,
            	       parameterTypes={Long},
            	       returnType=serializable,
            	       cacheName=articleReadService.getMutexArticles,
            	       storeType=tair,
            	       expireTimes=0,         	       
            	       groupName=商品数据
            	 </value>
            	  <value>
            		   beanName=articleReadService,
            	       methodName=getPayServiceCodes,
            	       parameterTypes={String},
            	       returnType=serializable,
            	       cacheName=articleReadService.getPayServiceCodes,
            	       storeType=tair,
            	       expireTimes=0,
            	       groupName=商品数据
            	 </value>
            	<!-- ===================================================================== -->
				<!-- 规格加载缓存管理配置						   				   		   	   -->
				<!-- ===================================================================== -->
            	<value>
            		   beanName=itemReadService,
            	       methodName=getItemById,
            	       parameterTypes={Long},
            	       returnType=serializable,
            	       cacheName=itemReadService.getItemById,
            	       storeType=tair,
            	       expireTimes=0,         	       
            	       groupName=规格数据
            	 </value>
            	 <value>
            		   beanName=itemReadService,
            	       methodName=getItemByCode,
            	       parameterTypes={String},
            	       returnType=serializable,
            	       cacheName=itemReadService.getItemByCode,
            	       storeType=tair,
            	       expireTimes=0,         	       
            	       groupName=规格数据
            	 </value>
            	 <value>
            		   beanName=itemReadService,
            	       methodName=getSaleConditions,
            	       parameterTypes={Long},
            	       returnType=serializable,
            	       cacheName=itemReadService.getSaleConditions,
            	       storeType=tair,
            	       expireTimes=0,         	       
            	       groupName=规格数据
            	 </value>
            	 <value>
            		   beanName=itemReadService,
            	       methodName=getPromotions,
            	       parameterTypes={Long},
            	       returnType=serializable,
            	       cacheName=itemReadService.getPromotions,
            	       storeType=tair,
            	       expireTimes=0,         	       
            	       groupName=规格数据
            	 </value>
            	 <value>
            		   beanName=itemReadService,
            	       methodName=getMutexItems,
            	       parameterTypes={Long},
            	       returnType=serializable,
            	       cacheName=itemReadService.getMutexItems,
            	       storeType=tair,
            	       expireTimes=0,         	       
            	       groupName=规格数据
            	 </value>
            	 <value>
            		   beanName=itemReadService,
            	       methodName=getUpdateItems,
            	       parameterTypes={Long},
            	       returnType=serializable,
            	       cacheName=itemReadService.getUpdateItems,
            	       storeType=tair,
            	       expireTimes=0,         	       
            	       groupName=规格数据
            	 </value>
            	 <!-- ===================================================================== -->
				 <!-- 包装盒加载缓存管理配置						   				   		   	   -->
				 <!-- ===================================================================== -->
            	 <value>
            		   beanName=packReadService,
            	       methodName=getPackById,
            	       parameterTypes={Long},
            	       returnType=serializable,
            	       cacheName=packReadService.getPackById,
            	       storeType=tair,
            	       expireTimes=0,         	       
            	       groupName=包装盒数据
            	 </value>
            	 <value>
            		   beanName=packReadService,
            	       methodName=getPackGroups,
            	       parameterTypes={Long},
            	       returnType=serializable,
            	       cacheName=packReadService.getPackGroups,
            	       storeType=tair,
            	       expireTimes=0,         	       
            	       groupName=包装盒数据
            	 </value>
            	 <value>
            		   beanName=packReadService,
            	       methodName=getPromotions,
            	       parameterTypes={Long},
            	       returnType=serializable,
            	       cacheName=packReadService.getPromotions,
            	       storeType=tair,
            	       expireTimes=0,         	       
            	       groupName=包装盒数据
            	 </value>
            	 <value>
            		   beanName=packReadService,
            	       methodName=getSaleConditions,
            	       parameterTypes={Long},
            	       returnType=serializable,
            	       cacheName=packReadService.getSaleConditions,
            	       storeType=tair,
            	       expireTimes=0,         	       
            	       groupName=包装盒数据
            	 </value>
            	 <value>
            		   beanName=packReadService,
            	       methodName=getUpdatePacks,
            	       parameterTypes={Long},
            	       returnType=serializable,
            	       cacheName=packReadService.getUpdatePacks,
            	       storeType=tair,
            	       expireTimes=0,         	       
            	       groupName=包装盒数据
            	 </value>
            	 <value>
            		   beanName=packReadService,
            	       methodName=getMutexPacks,
            	       parameterTypes={Long},
            	       returnType=serializable,
            	       cacheName=packReadService.getMutexPacks,
            	       storeType=tair,
            	       expireTimes=0,         	       
            	       groupName=包装盒数据
            	 </value>
            	 <value>
            		   beanName=packReadService,
            	       methodName=getPackItemViews,
            	       parameterTypes={Long},
            	       returnType=serializable,
            	       cacheName=packReadService.getPackItemViews,
            	       storeType=tair,
            	       expireTimes=0,         	       
            	       groupName=包装盒数据
            	 </value>
            	 <value>
            		   beanName=packReadService,
            	       methodName=getSubAvailableCombinations,
            	       parameterTypes={Long},
            	       returnType=serializable,
            	       cacheName=packReadService.getSubAvailableCombinations,
            	       storeType=tair,
            	       expireTimes=0,         	       
            	       groupName=包装盒数据
            	 </value>
            	 <value>
            		   beanName=packReadService,
            	       methodName=getPackByCode,
            	       parameterTypes={String},
            	       returnType=serializable,
            	       cacheName=packReadService.getPackByCode,
            	       storeType=tair,
            	       expireTimes=0,         	       
            	       groupName=包装盒数据
            	 </value>
            	 <!-- ===================================================================== -->
				 <!-- 优惠加载缓存管理配置						   				   		   	   -->
				 <!-- ===================================================================== -->
            	 <value>
            		   beanName=promotionReadService,
            	       methodName=getPromotionByCode,
            	       parameterTypes={String},
            	       returnType=serializable,
            	       cacheName=promotionReadService.getPromotionByCode,
            	       storeType=tair,
            	       expireTimes=0,         	       
            	       groupName=优惠数据
            	 </value>
            	 <value>
            		   beanName=promotionReadService,
            	       methodName=getPromotionById,
            	       parameterTypes={Long},
            	       returnType=serializable,
            	       cacheName=promotionReadService.getPromotionById,
            	       storeType=tair,
            	       expireTimes=0,         	       
            	       groupName=优惠数据
            	 </value>
            	  <!-- ===================================================================== -->
				 <!-- 营销活动加载缓存管理配置						   				   		   	   -->
				 <!-- ===================================================================== -->
            	<value>
            		   beanName=activityReadService,
            	       methodName=getActivityById,
            	       parameterTypes={Long},
            	       returnType=serializable,
            	       cacheName=activityReadService.getActivityById,
            	       storeType=tair,
            	       expireTimes=0,        	       
            	       groupName=活动数据
            	 </value>
            	 <value>
            		   beanName=activityReadService,
            	       methodName=getActivityByCode,
            	       parameterTypes={String},
            	       returnType=serializable,
            	       cacheName=activityReadService.getActivityByCode,
            	       storeType=tair,
            	       expireTimes=0,         	       
            	       groupName=活动数据
            	 </value>
            	 <value>
            		   beanName=activityReadService,
            	       methodName=getSaleConditions,
            	       parameterTypes={Long},
            	       returnType=serializable,
            	       cacheName=activityReadService.getSaleConditions,
            	       storeType=tair,
            	       expireTimes=0,         	       
            	       groupName=活动数据
            	 </value>
            	 <value>
            		   beanName=activityReadService,
            	       methodName=getPromotions,
            	       parameterTypes={Long},
            	       returnType=serializable,
            	       cacheName=activityReadService.getPromotions,
            	       storeType=tair,
            	       expireTimes=0,         	       
            	       groupName=活动数据
            	 </value>
            	 <value>
            		   beanName=activityReadService,
            	       methodName=getActivityItems,
            	       parameterTypes={Long},
            	       returnType=serializable,
            	       cacheName=activityReadService.getActivityItems,
            	       storeType=tair,
            	       expireTimes=0,         	       
            	       groupName=活动数据
            	 </value>
            	 <value>
            		   beanName=activityReadService,
            	       methodName=getActivityArticles,
            	       parameterTypes={Long},
            	       returnType=serializable,
            	       cacheName=activityReadService.getActivityArticles,
            	       storeType=tair,
            	       expireTimes=0,         	       
            	       groupName=活动数据
            	 </value>
            	 <value>
            		   beanName=activityReadService,
            	       methodName=getRelEffectiveActivitysByItemId,
            	       parameterTypes={Long},
            	       returnType=serializable,
            	       cacheName=activityReadService.getRelEffectiveActivitysByItemId,
            	       storeType=tair,
            	       expireTimes=0,         	       
            	       groupName=活动数据
            	 </value>
            </list>
        </property>
        <property name="cacheCleanConfig">
			<list>
				<!-- ===================================================================== -->
				<!-- 商品清理缓存管理配置						   				   		   	   -->
				<!-- ===================================================================== -->
            	<value>
            		   beanName=articleReadService,
            		   methodName=cleanCacheById,
            		   parameterTypes={Long},
            		   cacheCleanCodes=articleReadService#getArticleById#{Long};articleReadService#getSaleConditions#{Long};articleReadService#getPromotions#{Long};articleReadService#getDependArticles#{Long};articleReadService#getMutexArticles#{Long};
            	</value>
            	<value>
            		   beanName=articleReadService,
            		   methodName=cleanCacheByCode,
            		   parameterTypes={String},
            		   cacheCleanCodes=articleReadService#getArticleByCode#{String};
            	</value>
            	<value>
            		   beanName=articleReadService,
            		   methodName=cleanCacheByMarkeType,
            		   parameterTypes={Long},
            		   cacheCleanCodes=articleReadService#getMarketSaleConditions#{Long};
            	</value>
            	<value>
            		   beanName=articleReadService,
            		   methodName=cleanCacheByPayService,
            		   parameterTypes={String},
            		   cacheCleanCodes=articleReadService#getPayServiceCodes#{String};
            	</value>
            	<!-- ===================================================================== -->
				<!-- 规格清理缓存管理配置						   				   		   	   -->
				<!-- ===================================================================== -->
            	<value>
            		   beanName=itemReadService,
            		   methodName=cleanCacheById,
            		   parameterTypes={Long},
            		   cacheCleanCodes=itemReadService#getItemById#{Long};itemReadService#getSaleConditions#{Long};itemReadService#getPromotions#{Long};itemReadService#getMutexItems#{Long};itemReadService#getUpdateItems#{Long};
            	</value>
            	<value>
            		   beanName=itemReadService,
            		   methodName=cleanCacheByCode,
            		   parameterTypes={String},
            		   cacheCleanCodes=itemReadService#getItemByCode#{String};
            	</value>
            	<!-- ===================================================================== -->
				<!-- 包装盒清理缓存管理配置						   				   		   	   -->
				<!-- ===================================================================== -->
            	<value>
            		   beanName=packReadService,
            		   methodName=cleanCacheById,
            		   parameterTypes={Long},
            		   cacheCleanCodes=packReadService#getPackById#{Long};packReadService#getPackGroups#{Long};packReadService#getPromotions#{Long};packReadService#getSaleConditions#{Long};packReadService#getUpdatePacks#{Long};packReadService#getMutexPacks#{Long};packReadService#getPackItemViews#{Long};
            	</value>
            	<value>
            		   beanName=packReadService,
            		   methodName=cleanCacheByCode,
            		   parameterTypes={String},
            		   cacheCleanCodes=packReadService#getPackByCode#{String};
            	</value>
            	<value>
            		   beanName=packReadService,
            		   methodName=cleanCacheByFlag,
            		   parameterTypes={Long},
            		   cacheCleanCodes=packReadService#getSubAvailableCombinations#{Long};
            	</value>
            	<!-- ===================================================================== -->
				<!-- 优惠清理缓存管理配置						   				   		   	   -->
				<!-- ===================================================================== -->
            	<value>
            		   beanName=promotionReadService,
            		   methodName=cleanCacheById,
            		   parameterTypes={Long},
            		   cacheCleanCodes=promotionReadService#getPromotionById#{Long};
            	</value>
            	<value>
            		   beanName=promotionReadService,
            		   methodName=cleanCacheByCode,
            		   parameterTypes={String},
            		   cacheCleanCodes=promotionReadService#getPromotionByCode#{String};
            	</value>
            	<!-- ===================================================================== -->
				<!-- 活动清理缓存管理配置						   				   		   	   -->
				<!-- ===================================================================== -->
            	<value>
            		   beanName=activityReadService,
            		   methodName=cleanCacheById,
            		   parameterTypes={Long},
            		   cacheCleanCodes=activityReadService#getActivityById#{Long};activityReadService#getSaleConditions#{Long};activityReadService#getPromotions#{Long};activityReadService#getActivityItems#{Long};activityReadService#getActivityArticles#{Long};
            	</value>
            	<value>
            		   beanName=activityReadService,
            		   methodName=cleanCacheByCode,
            		   parameterTypes={String},
            		   cacheCleanCodes=activityReadService#getActivityByCode#{String};
            	</value>
            	<value>
            		   beanName=activityReadService,
            		   methodName=cleanRelEffectiveActivitysCacheByItemId,
            		   parameterTypes={Long},
            		   cacheCleanCodes=activityReadService#getRelEffectiveActivitysByItemId#{Long};
            	</value>
            </list>
        </property>
 		<property name="cacheInitFlag">
 			<value>true</value>
 		</property>
 		<property name="cacheUseFlag">
 			<value>true</value>
 		</property> 		
 	</bean> 
 	<bean id="goodsCenterCacheManagerHandle" class="com.taobao.pamirs.cache.aop.handle.CacheManagerHandle">
 		<property name="cacheManager" ref="goodsCenterCacheManager"></property>
 	</bean>
</beans>